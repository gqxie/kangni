<!DOCTYPE html>
<html>
{% load static %}
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>违规事件统计</title>
    <link rel="stylesheet" href="{% static 'layui/css/layui.css' %}" media="all">
    <style>
        body {
            margin: 10px;
        }
    </style>
</head>
<body>

<table class="layui-hide" id="demo"></table>
<script src="{% static 'layui/layui.all.js' %}" charset="utf-8"></script>
<script>
    layui.config({
        version: '1560414887305' //为了更新 js 缓存，可忽略
    });

    layui.use(['table'], function () {
        var table = layui.table; //表格

        //执行一个 table 实例
        table.render({
            elem: '#demo'
            //, height: 'full-200'
            , url: 'getUser' //数据接口
            , title: '违规事件统计'
            , page: true //开启分页
            , toolbar: true //开启工具栏，此处显示默认图标，可以自定义模板，详见文档
            , totalRow: false //开启合计行
            , skin: 'row' //行边框风格
            , even: true //开启隔行背景
            , size: 'sm' //小尺寸的表格
            , cols: [[ //表头
                {#{type: 'numbers',fixed: 'left'}, #}
                {type: 'checkbox', fixed: 'left'}
                , {field: 'eventId', title: 'ID', width: 80, sort: true, fixed: 'left'}
                , {field: 'eventType', title: '事件类型', width: 120}
                , {field: 'cameraName', title: '摄像头名称', width: 120}
                , {field: 'cameraUseType', title: '摄像头用途', width: 120}
                , {field: 'districtName', title: '区域', width: 120}
                , {field: 'positionName', title: '安装位置', width: 120}
                , {
                    field: 'photo', title: '照片', width: 450, templet: function (d) {
                        var uri = 'media' + d.photo.split('media')[1];
                        return '<div><a href="' + uri + '" class="layui-table-link" target="_blank">' + d.photo + '</a></div>'
                    }
                }
                , {field: 'createTime', title: '时间', width: 180}
            ]]
        });
    });
</script>
</body>
</html>
